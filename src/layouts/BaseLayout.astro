---
// src/layouts/BaseLayout.astro
import "../styles/global.css";
import Header from "../components/Header.astro"; 

interface Props {
  title: string;
}

// --- LOGIKA GLOBAL ---
// GANTI DENGAN NOMOR DAN PESAN WHATSAPP ANDA YANG SEBENARNYA
const whatsappNumber = "6285171140818"; 
const defaultMessage = "Halo AetherSub, saya tertarik dengan jersey Anda. Bisakah saya bertanya lebih lanjut?"; 
const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(defaultMessage)}`;

const { title ="AetherSub"} = Astro.props;
const currentYear = new Date().getFullYear();
---

<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>{title || "Jersey Custom terbaik"}</title>

  <meta 
    name="description" 
    content="AetherSub menyediakan layanan jersey sublimasi custom e-sport & futsal. Desain gratis, bahan premium, tanpa minimal order. Konsultasi gratis sekarang!"
  />

  <link rel="canonical" href={String(Astro.url)} />

  <link rel="icon" type="image/x-icon" href="/favicon.svg" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <meta name="theme-color" content="#7ccf00" />

  <!-- Open Graph -->
  <meta property="og:title" content={title} />
  <meta 
    property="og:description" 
    content="AetherSub menyediakan jersey sublimasi Bebas Custom. Desain gratis, kualitas premium, dan tanpa minimal order."
  />
  <meta property="og:type" content="website" />
  <meta property="og:url" content={String(Astro.url)} />
  <meta property="og:image" content="https://aethersub.store/asset/images/logo-web-dark.png" />
  <meta property="og:site_name" content="AetherSub" />
  <meta property="og:locale" content="id_ID" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={title} />
  <meta name="twitter:description" content="Desain gratis & kualitas premium. Buat jersey custommu di AetherSub." />
  <meta name="twitter:image" content="https://aethersub.store/asset/images/logo-web-dark.png" />

  <!-- Styles -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- JSON-LD: Organization -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "AetherSub",
      "url": "{String(Astro.url)}",
      "logo": "https://aethersub.store/asset/images/logo-web-dark.png"
    }
  </script>
</head>

  <body class="bg-gray-100 font-base">
    <Header />

    <slot />

    <footer class="bg-gray-900 border-t border-gray-700 mt-0 ">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 md:gap-12">
          <div class="col-span-2 md:col-span-1 pr-4">
            <div class="mb-4">
              <img 
                  id="footer-logo" 
                  src="/asset/images/logo-web.png" 
                  alt="Logo AetherSub" 
                  class="h-15" 
              />
            </div>
            <p class="text-gray-400 text-sm mb-4">
              Vendor Jersey Pilihan terbaik 
            </p>
            <div class="space-y-2 text-sm">
              <p class="text-gray-400 flex items-center">
                <i class="fa-solid fa-phone w-4 h-4 mr-2 text-red-600"></i>
                +62 851-7114-0818
              </p>
              <p class="text-gray-400 flex items-center">
                <i class="fa-solid fa-envelope w-4 h-4 mr-2 text-red-600"></i>
                Helpdesk@aethersub.store
              </p>
            </div>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-white mb-4">
              Layanan Pelanggan
            </h4>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="/beli"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Cara Belanja</a
                >
              </li>
              <li>
                <a
                  href="/retur"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Pengembalian Produk</a
                >
              </li>
              <li>
                <a
                  href="/faq"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Tanya Jawab (FAQ)</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-white mb-4">Informasi</h4>
            <ul class="space-y-2 text-sm">
              <li>
                <a
                  href="/about"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Tentang Kami</a
                >
              </li>
              <li>
                <a
                  href="/privasi"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Kebijakan Privasi</a
                >
              </li>
              <li>
                <a
                  href="/syarat"
                  class="text-gray-400 hover:text-red-600 transition duration-150"
                  >Syarat & Ketentuan</a
                >
              </li>
            </ul>
          </div>
          <div>
            <h4 class="text-lg font-semibold text-white mb-4">Ikuti Kami</h4>
            <div class="flex space-x-4 mt-6">
              <a
                href="https://instagram.com/aethersub"
                class="text-gray-400 hover:text-red-600 transition duration-150"
                ><i class="fa-brands fa-instagram text-2xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-red-600 transition duration-150"
                ><i class="fa-brands fa-facebook-f text-2xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-red-600 transition duration-150"
                ><i class="fa-brands fa-twitter text-2xl"></i
              ></a>
              <a
                href="#"
                class="text-gray-400 hover:text-red-600 transition duration-150"
                ><i class="fa-brands fa-tiktok text-2xl"></i
              ></a>
            </div>
          </div>
        </div>
        <div class="border-t border-gray-700 mt-10 pt-6 text-center">
          <p class="text-gray-500 text-xs">
            &copy; {currentYear} AetherSub | Angkasa Project.
          </p>
        </div>
      </div>
    </footer>

    <a
        href={whatsappUrl}
        target="_blank"
        rel="noopener noreferrer"
        aria-label="Hubungi kami melalui WhatsApp"
        class="fixed bottom-6 right-6 z-50 bg-lime-600 p-4 rounded-2xl shadow-2xl hover:bg-lime-700 transition duration-300 transform hover:scale-110 ease-in-out"
    >
        <i class="fa-brands fa-whatsapp text-white text-3xl"></i>
    </a>
    
    <script type="module" src="/scripts/app.js" is:inline></script>
    <script type="module" src="/scripts/header-logic.js" is:inline></script>
  </body>
</html>